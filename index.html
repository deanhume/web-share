<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Getting Started with the Web Share API</title>
	<!-- Origin Trial Token, feature = Web Share, origin = https://deanhume.github.io, expires = 2017-04-04 -->
	<meta http-equiv="origin-trial" data-feature="Web Share" data-expires="2017-04-04" content="AsXyKFASjvpxkgJW0h4/xCPKyCi8iIQveiFeje8kImk4vfQg4k6+BnK7R7VldUw9/nlfAviJ2ho7t8Vz2hVVjwYAAABneyJvcmlnaW4iOiJodHRwczovL2RlYW5odW1lLmdpdGh1Yi5pbzo0NDMiLCJmZWF0dXJlIjoiV2ViU2hhcmUiLCJleHBpcnkiOjE0OTEzMzcwMTAsImlzU3ViZG9tYWluIjp0cnVlfQ==">

</head>

<body>
	<!-- <a id="shareThis"  href="https://twitter.com/intent/tweet/?text=The%20Web%20Share%20API!&url=https%3A%2F%2Fdeanhume.com%2F&via=deanohume"target="_blank"><img src="./images/twitter.png"></a>
    <a id="shareThis" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fdeanhume.com%2F" target="_blank"><img src="./images/facebook.png"></a> -->

	<a id="shareThis"><img src="./images/twitter.png"></a>
	<!--<a id="shareThis"><img src="./images/facebook.png"></a>-->
	<div id="support"></div>
	<script>
		var shareButton = document.getElementById('shareThis');
		var supported = document.getElementById('support');

		shareButton.textContent = 'Share';

		shareButton.addEventListener('click', function (ev) {

			supported.innerHTML = "fired";

			if (navigator.share !== undefined) {

				supported.innerHTML = "Supported";

				var shareUrl = document.querySelector('link[rel=canonical]') ? document.querySelector('link[rel=canonical]').href : window.location.href;

				navigator.share({
					title: document.title,
					url: shareUrl
				}).then(() => console.log('Successful share'))
					.catch((error) => console.log('Error sharing:', error));

				ev.preventDefault();
			} else {

				supported.innerHTML = "Not supported";

			}
		});
	</script>
</body>

</html>
